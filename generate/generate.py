#!/usr/bin/env python3

from jinja2 import Environment, FileSystemLoader
from content import *
from datetime import datetime


file_loader = FileSystemLoader('templates')
env = Environment(loader=file_loader, trim_blocks=True)

template_readme = env.get_template('readme_template.j2')
readme = template_readme.render(News=news, Forums=forums, Practicing=practicing,
                                Learning=learning, Awesome=other_awesome)
print(readme)

template_bookmarks = env.get_template('bookmarks_template.j2')
bookmarks = template_bookmarks.render(now=int(datetime.now().timestamp()), News=news, Forums=forums,
                                      Practicing=practicing, Learning=learning, Awesome=other_awesome)
print(bookmarks)

with open('../README.md', 'w') as fp:
    fp.write(readme)

with open('../BOOKMARKS.html', 'w') as fp:
    fp.write(bookmarks)
